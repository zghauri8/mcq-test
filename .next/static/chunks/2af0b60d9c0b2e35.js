(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15236,e=>{"use strict";e.s(["default",()=>r]);var s=e.i(43476),t=e.i(71645),a=e.i(18566),l=e.i(22016);function r(){let e=(0,a.useParams)(),r=(0,a.useRouter)(),[n,i]=(0,t.useState)(null),[c,o]=(0,t.useState)(!0),[d,m]=(0,t.useState)(null),[x,h]=(0,t.useState)(!1),[p,u]=(0,t.useState)({cover_letter:""});(0,t.useEffect)(()=>{let s=async()=>{try{o(!0),m(null);let s=await fetch("http://localhost:3001/api/jobs/".concat(e.id));if(!s.ok){if(404===s.status)throw Error("Job not found");throw Error("Failed to fetch job details")}let t=await s.json();i(t.job)}catch(e){m(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}};e.id&&s()},[e.id]);let b=async()=>{try{h(!0);let e=localStorage.getItem("token");if(!e)return void r.push("/login");let s=await fetch("http://localhost:3001/api/applications",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({job_id:null==n?void 0:n.id,cover_letter:p.cover_letter})});if(!s.ok){let e=await s.json();throw Error(e.message||"Failed to submit application")}alert("Application submitted successfully!"),r.push("/dashboard")}catch(e){alert(e instanceof Error?e.message:"An error occurred")}finally{h(!1)}};return c?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):d||!n?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:d||"Job not found"}),(0,s.jsx)(l.default,{href:"/jobs",className:"text-blue-600 hover:text-blue-800 underline",children:"Back to Jobs"})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{children:(0,s.jsx)(l.default,{href:"/jobs",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"â† Back to Jobs"})}),(0,s.jsxs)("div",{className:"text-sm text-gray-500",children:["Posted on ",new Date(n.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,s.jsx)("div",{className:"lg:w-2/3",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:n.title}),(0,s.jsxs)("div",{className:"flex items-center mb-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:n.company.name}),n.company.industry&&(0,s.jsx)("p",{className:"text-gray-600",children:n.company.industry})]}),n.company.logo&&(0,s.jsx)("img",{src:n.company.logo,alt:"".concat(n.company.name," logo"),className:"w-16 h-16 object-contain"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,s.jsxs)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),n.location||"Location not specified",n.is_remote&&(0,s.jsx)("span",{className:"ml-2 px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:"Remote"})]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,s.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.employment_type.replace("-"," ")]}),(0,s.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,s.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.experience_level.replace("-"," ")]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:function(e,s){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"yearly";if(!e&&!s)return"Salary not specified";let l=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return e&&s?"".concat(l(e)," - ").concat(l(s)," per ").concat(a):e?"".concat(l(e),"+ per ").concat(a):s?"Up to ".concat(l(s)," per ").concat(a):void 0}(n.salary_range_min,n.salary_range_max,n.salary_currency,n.salary_type)})})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Job Description"}),(0,s.jsx)("div",{className:"prose max-w-none",children:(0,s.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:n.description})})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Requirements"}),(0,s.jsx)("div",{className:"prose max-w-none",children:(0,s.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:n.requirements})})]}),n.responsibilities&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Responsibilities"}),(0,s.jsx)("div",{className:"prose max-w-none",children:(0,s.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:n.responsibilities})})]}),n.skills&&n.skills.length>0&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Required Skills"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:n.skills.map(e=>(0,s.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:e.name},e.id))})]})]})}),(0,s.jsxs)("div",{className:"lg:w-1/3",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Apply for this position"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Letter"}),(0,s.jsx)("textarea",{value:p.cover_letter,onChange:e=>u({...p,cover_letter:e.target.value}),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell us why you're interested in this position..."})]}),(0,s.jsx)("button",{onClick:b,disabled:x,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Applying...":"Apply Now"}),n.apply_url&&(0,s.jsxs)("div",{className:"mt-4 text-center",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Or apply directly:"}),(0,s.jsx)("a",{href:n.apply_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Apply on Company Website"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["About ",n.company.name]}),n.company.description&&(0,s.jsx)("p",{className:"text-gray-700 mb-4",children:n.company.description}),(0,s.jsxs)("div",{className:"space-y-2",children:[n.company.website&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Website:"}),(0,s.jsx)("a",{href:n.company.website,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800 underline",children:n.company.website})]}),n.company.industry&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Industry:"}),(0,s.jsx)("span",{className:"ml-2 text-gray-700",children:n.company.industry})]})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)(l.default,{href:"/jobs?company_id=".concat(n.company.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:["View all jobs from ",n.company.name]})})]})]})]})})]})}}]);