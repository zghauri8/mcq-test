(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38143,e=>{"use strict";e.s(["default",()=>t]);var a=e.i(43476),s=e.i(71645),l=e.i(18566);function t(){let e=(0,l.useRouter)(),[t,r]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0),[n,i]=(0,s.useState)(!1),[m,d]=(0,s.useState)(null),[h,u]=(0,s.useState)({first_name:"",last_name:"",email:"",phone1:"",phone2:"",city:"",state:"",country:"",address:"",gender:"male",dob:"",bio:""});(0,s.useEffect)(()=>{let a=localStorage.getItem("token");if(!a)return void e.push("/login");(async()=>{try{let s=await fetch("http://localhost:5000/api/candidates/me",{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});if(s.ok){let e=await s.json();r(e),u({first_name:e.first_name||"",last_name:e.last_name||"",email:e.email||"",phone1:e.phone1||"",phone2:e.phone2||"",city:e.city||"",state:e.state||"",country:e.country||"",address:e.address||"",gender:e.gender||"male",dob:e.dob||"",bio:e.bio||""})}else localStorage.removeItem("token"),e.push("/login")}catch(a){console.error("Error fetching user data:",a),localStorage.removeItem("token"),e.push("/login")}finally{c(!1)}})()},[e]);let x=e=>{u({...h,[e.target.name]:e.target.value})},f=async e=>{e.preventDefault(),i(!0),d(null);try{let e=localStorage.getItem("token"),a=await fetch("http://localhost:5000/api/candidates/profile",{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(h)});if(a.ok){d("Profile updated successfully!");let e=await a.json();r(e)}else{let e=await a.json();d(e.error||"Failed to update profile")}}catch(e){d("An error occurred while updating profile")}finally{i(!1)}};return o?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,a.jsx)("section",{id:"intro",className:"clearfix front-intro-section",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"intro-img"}),(0,a.jsx)("div",{className:"intro-info",children:(0,a.jsx)("h2",{children:(0,a.jsx)("span",{children:"Account > Profile"})})})]})}),(0,a.jsx)("main",{id:"main",children:(0,a.jsx)("section",{id:"about",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row mt-10",children:[(0,a.jsx)("div",{className:"col-lg-3",children:(0,a.jsx)("div",{className:"account-area-left",children:(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"/account/profile",className:"active",children:[(0,a.jsx)("i",{className:"fa fa-user"})," Profile"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"/account/resume",children:[(0,a.jsx)("i",{className:"fa fa-file"})," My Resume"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"/account/job-applications",children:[(0,a.jsx)("i",{className:"fa fa-check"})," Job Applications"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"/account/job-favorites",children:[(0,a.jsx)("i",{className:"fa fa-heart"})," Job Favorites"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"/account/interviews",children:[(0,a.jsx)("i",{className:"fa fa-video"})," Interviews"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"/account/quizzes",children:[(0,a.jsx)("i",{className:"fa fa-question-circle"})," Quizzes"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"/account/password",children:[(0,a.jsx)("i",{className:"fa fa-key"})," Change Password"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"#",onClick:()=>{localStorage.removeItem("token"),e.push("/")},children:[(0,a.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})})]})})}),(0,a.jsx)("div",{className:"col-md-9 col-lg-9 col-sm-12",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-md-12 col-lg-12 col-sm-12",children:(0,a.jsxs)("div",{className:"account-box",children:[(0,a.jsxs)("p",{className:"account-box-heading",children:[(0,a.jsx)("span",{className:"account-box-heading-text",children:"Profile"}),(0,a.jsx)("span",{className:"account-box-heading-line"})]}),(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("form",{className:"form",onSubmit:f,children:[m&&(0,a.jsx)("div",{className:"alert ".concat(m.includes("success")?"alert-success":"alert-danger"),role:"alert",children:m}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsxs)("div",{className:"col-md-6 col-lg-6",children:[(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"first_name",children:"First Name"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Adam",name:"first_name",value:h.first_name,onChange:x}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Enter first name"})]}),(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"phone1",children:"Phone 1"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"12345 67891011",name:"phone1",value:h.phone1,onChange:x}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Enter phone 1."})]}),(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"city",children:"City"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"New York",name:"city",value:h.city,onChange:x}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Enter city"})]}),(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"country",children:"Country"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Australia",name:"country",value:h.country,onChange:x}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Enter country"})]}),(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"gender",children:"Gender"}),(0,a.jsxs)("select",{name:"gender",className:"form-control",value:h.gender,onChange:x,children:[(0,a.jsx)("option",{value:"male",children:"Male"}),(0,a.jsx)("option",{value:"female",children:"Female"}),(0,a.jsx)("option",{value:"other",children:"Other"})]}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Select gender"})]}),(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"dob",children:"Date of Birth"}),(0,a.jsx)("input",{type:"date",className:"form-control",placeholder:"1990-10-10",name:"dob",value:h.dob,onChange:x}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Select date of birth"})]})]}),(0,a.jsxs)("div",{className:"col-md-6 col-lg-6",children:[(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"Smith",name:"last_name",value:h.last_name,onChange:x}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Enter last name."})]}),(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"email",children:"Email"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"email",name:"email",value:h.email,onChange:x}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Enter email"})]}),(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"phone2",children:"Phone 2"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"67891011",name:"phone2",value:h.phone2,onChange:x}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Enter phone 2."})]}),(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"state",children:"State"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"New York",name:"state",value:h.state,onChange:x}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Enter state"})]}),(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"address",children:"Address"}),(0,a.jsx)("input",{type:"text",className:"form-control",placeholder:"House # 30, Street 32",name:"address",value:h.address,onChange:x}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Enter address"})]})]}),(0,a.jsx)("div",{className:"col-md-12 col-lg-12",children:(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"bio",children:"Short Biography"}),(0,a.jsx)("textarea",{className:"form-control",placeholder:"Short Bio",name:"bio",value:h.bio,onChange:x,rows:4}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Enter short biography"})]})}),(0,a.jsx)("div",{className:"col-md-12 col-lg-12",children:(0,a.jsxs)("div",{className:"form-group form-group-account",children:[(0,a.jsx)("label",{htmlFor:"image",children:"Image File"}),(0,a.jsx)("input",{type:"file",className:"form-control",name:"image",accept:"image/*"}),(0,a.jsx)("small",{className:"form-text text-muted",children:"Only jpg or png allowed"})]})})]}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-md-12 col-lg-12",children:(0,a.jsx)("div",{className:"form-group form-group-account",children:(0,a.jsxs)("button",{type:"submit",className:"btn btn-success",title:"Save",disabled:n,children:[(0,a.jsx)("i",{className:"fa fa-floppy-o"})," ",n?"Saving...":"Save"]})})})})]})})]})})})})]})})})})]})}}]);