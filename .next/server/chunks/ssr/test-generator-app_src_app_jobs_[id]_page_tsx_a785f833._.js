module.exports=[19307,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246);function f(){let a=(0,d.useParams)(),f=(0,d.useRouter)(),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)({cover_letter:""});(0,c.useEffect)(()=>{let b=async()=>{try{j(!0),l(null);let b=await fetch(`http://localhost:3001/api/jobs/${a.id}`);if(!b.ok){if(404===b.status)throw Error("Job not found");throw Error("Failed to fetch job details")}let c=await b.json();h(c.job)}catch(a){l(a instanceof Error?a.message:"An error occurred")}finally{j(!1)}};a.id&&b()},[a.id]);let q=async()=>{try{n(!0);let a=localStorage.getItem("token");if(!a)return void f.push("/login");let b=await fetch("http://localhost:3001/api/applications",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({job_id:g?.id,cover_letter:o.cover_letter})});if(!b.ok){let a=await b.json();throw Error(a.message||"Failed to submit application")}alert("Application submitted successfully!"),f.push("/dashboard")}catch(a){alert(a instanceof Error?a.message:"An error occurred")}finally{n(!1)}};return i?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):k||!g?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:k||"Job not found"}),(0,b.jsx)(e.default,{href:"/jobs",className:"text-blue-600 hover:text-blue-800 underline",children:"Back to Jobs"})]})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white shadow-sm",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsx)(e.default,{href:"/jobs",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"← Back to Jobs"})}),(0,b.jsxs)("div",{className:"text-sm text-gray-500",children:["Posted on ",new Date(g.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,b.jsx)("div",{className:"lg:w-2/3",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:g.title}),(0,b.jsxs)("div",{className:"flex items-center mb-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:g.company.name}),g.company.industry&&(0,b.jsx)("p",{className:"text-gray-600",children:g.company.industry})]}),g.company.logo&&(0,b.jsx)("img",{src:g.company.logo,alt:`${g.company.name} logo`,className:"w-16 h-16 object-contain"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,b.jsxs)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),g.location||"Location not specified",g.is_remote&&(0,b.jsx)("span",{className:"ml-2 px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:"Remote"})]}),(0,b.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,b.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.employment_type.replace("-"," ")]}),(0,b.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,b.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),g.experience_level.replace("-"," ")]})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:((a,b,c="USD",d="yearly")=>{if(!a&&!b)return"Salary not specified";let e=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:c,minimumFractionDigits:0,maximumFractionDigits:0}).format(a);return a&&b?`${e(a)} - ${e(b)} per ${d}`:a?`${e(a)}+ per ${d}`:b?`Up to ${e(b)} per ${d}`:void 0})(g.salary_range_min,g.salary_range_max,g.salary_currency,g.salary_type)})})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Job Description"}),(0,b.jsx)("div",{className:"prose max-w-none",children:(0,b.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:g.description})})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Requirements"}),(0,b.jsx)("div",{className:"prose max-w-none",children:(0,b.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:g.requirements})})]}),g.responsibilities&&(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Responsibilities"}),(0,b.jsx)("div",{className:"prose max-w-none",children:(0,b.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:g.responsibilities})})]}),g.skills&&g.skills.length>0&&(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Required Skills"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:g.skills.map(a=>(0,b.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:a.name},a.id))})]})]})}),(0,b.jsxs)("div",{className:"lg:w-1/3",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Apply for this position"}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Letter"}),(0,b.jsx)("textarea",{value:o.cover_letter,onChange:a=>p({...o,cover_letter:a.target.value}),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tell us why you're interested in this position..."})]}),(0,b.jsx)("button",{onClick:q,disabled:m,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Applying...":"Apply Now"}),g.apply_url&&(0,b.jsxs)("div",{className:"mt-4 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Or apply directly:"}),(0,b.jsx)("a",{href:g.apply_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Apply on Company Website"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["About ",g.company.name]}),g.company.description&&(0,b.jsx)("p",{className:"text-gray-700 mb-4",children:g.company.description}),(0,b.jsxs)("div",{className:"space-y-2",children:[g.company.website&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Website:"}),(0,b.jsx)("a",{href:g.company.website,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 hover:text-blue-800 underline",children:g.company.website})]}),g.company.industry&&(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Industry:"}),(0,b.jsx)("span",{className:"ml-2 text-gray-700",children:g.company.industry})]})]}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsxs)(e.default,{href:`/jobs?company_id=${g.company.id}`,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:["View all jobs from ",g.company.name]})})]})]})]})})]})}}];

//# sourceMappingURL=test-generator-app_src_app_jobs_%5Bid%5D_page_tsx_a785f833._.js.map