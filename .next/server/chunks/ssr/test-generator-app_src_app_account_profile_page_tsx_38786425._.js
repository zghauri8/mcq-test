module.exports=[22163,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e(){let a=(0,d.useRouter)(),[e,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)({first_name:"",last_name:"",email:"",phone1:"",phone2:"",city:"",state:"",country:"",address:"",gender:"male",dob:"",bio:""});(0,c.useEffect)(()=>{let b=localStorage.getItem("token");if(!b)return void a.push("/login");(async()=>{try{let c=await fetch("http://localhost:5000/api/candidates/me",{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});if(c.ok){let a=await c.json();f(a),n({first_name:a.first_name||"",last_name:a.last_name||"",email:a.email||"",phone1:a.phone1||"",phone2:a.phone2||"",city:a.city||"",state:a.state||"",country:a.country||"",address:a.address||"",gender:a.gender||"male",dob:a.dob||"",bio:a.bio||""})}else localStorage.removeItem("token"),a.push("/login")}catch(b){console.error("Error fetching user data:",b),localStorage.removeItem("token"),a.push("/login")}finally{h(!1)}})()},[a]);let o=a=>{n({...m,[a.target.name]:a.target.value})},p=async a=>{a.preventDefault(),j(!0),l(null);try{let a=localStorage.getItem("token"),b=await fetch("http://localhost:5000/api/candidates/profile",{method:"PUT",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},body:JSON.stringify(m)});if(b.ok){l("Profile updated successfully!");let a=await b.json();f(a)}else{let a=await b.json();l(a.error||"Failed to update profile")}}catch(a){l("An error occurred while updating profile")}finally{j(!1)}};return g?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,b.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,b.jsx)("section",{id:"intro",className:"clearfix front-intro-section",children:(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("div",{className:"intro-img"}),(0,b.jsx)("div",{className:"intro-info",children:(0,b.jsx)("h2",{children:(0,b.jsx)("span",{children:"Account > Profile"})})})]})}),(0,b.jsx)("main",{id:"main",children:(0,b.jsx)("section",{id:"about",children:(0,b.jsx)("div",{className:"container",children:(0,b.jsxs)("div",{className:"row mt-10",children:[(0,b.jsx)("div",{className:"col-lg-3",children:(0,b.jsx)("div",{className:"account-area-left",children:(0,b.jsxs)("ul",{children:[(0,b.jsx)("li",{children:(0,b.jsxs)("a",{href:"/account/profile",className:"active",children:[(0,b.jsx)("i",{className:"fa fa-user"})," Profile"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("a",{href:"/account/resume",children:[(0,b.jsx)("i",{className:"fa fa-file"})," My Resume"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("a",{href:"/account/job-applications",children:[(0,b.jsx)("i",{className:"fa fa-check"})," Job Applications"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("a",{href:"/account/job-favorites",children:[(0,b.jsx)("i",{className:"fa fa-heart"})," Job Favorites"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("a",{href:"/account/interviews",children:[(0,b.jsx)("i",{className:"fa fa-video"})," Interviews"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("a",{href:"/account/quizzes",children:[(0,b.jsx)("i",{className:"fa fa-question-circle"})," Quizzes"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("a",{href:"/account/password",children:[(0,b.jsx)("i",{className:"fa fa-key"})," Change Password"]})}),(0,b.jsx)("li",{children:(0,b.jsxs)("a",{href:"#",onClick:()=>{localStorage.removeItem("token"),a.push("/")},children:[(0,b.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})})]})})}),(0,b.jsx)("div",{className:"col-md-9 col-lg-9 col-sm-12",children:(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-md-12 col-lg-12 col-sm-12",children:(0,b.jsxs)("div",{className:"account-box",children:[(0,b.jsxs)("p",{className:"account-box-heading",children:[(0,b.jsx)("span",{className:"account-box-heading-text",children:"Profile"}),(0,b.jsx)("span",{className:"account-box-heading-line"})]}),(0,b.jsx)("div",{className:"container",children:(0,b.jsxs)("form",{className:"form",onSubmit:p,children:[k&&(0,b.jsx)("div",{className:`alert ${k.includes("success")?"alert-success":"alert-danger"}`,role:"alert",children:k}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"col-md-6 col-lg-6",children:[(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"first_name",children:"First Name"}),(0,b.jsx)("input",{type:"text",className:"form-control",placeholder:"Adam",name:"first_name",value:m.first_name,onChange:o}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Enter first name"})]}),(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"phone1",children:"Phone 1"}),(0,b.jsx)("input",{type:"text",className:"form-control",placeholder:"12345 67891011",name:"phone1",value:m.phone1,onChange:o}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Enter phone 1."})]}),(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"city",children:"City"}),(0,b.jsx)("input",{type:"text",className:"form-control",placeholder:"New York",name:"city",value:m.city,onChange:o}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Enter city"})]}),(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"country",children:"Country"}),(0,b.jsx)("input",{type:"text",className:"form-control",placeholder:"Australia",name:"country",value:m.country,onChange:o}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Enter country"})]}),(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"gender",children:"Gender"}),(0,b.jsxs)("select",{name:"gender",className:"form-control",value:m.gender,onChange:o,children:[(0,b.jsx)("option",{value:"male",children:"Male"}),(0,b.jsx)("option",{value:"female",children:"Female"}),(0,b.jsx)("option",{value:"other",children:"Other"})]}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Select gender"})]}),(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"dob",children:"Date of Birth"}),(0,b.jsx)("input",{type:"date",className:"form-control",placeholder:"1990-10-10",name:"dob",value:m.dob,onChange:o}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Select date of birth"})]})]}),(0,b.jsxs)("div",{className:"col-md-6 col-lg-6",children:[(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"last_name",children:"Last Name"}),(0,b.jsx)("input",{type:"text",className:"form-control",placeholder:"Smith",name:"last_name",value:m.last_name,onChange:o}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Enter last name."})]}),(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"email",children:"Email"}),(0,b.jsx)("input",{type:"text",className:"form-control",placeholder:"email",name:"email",value:m.email,onChange:o}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Enter email"})]}),(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"phone2",children:"Phone 2"}),(0,b.jsx)("input",{type:"text",className:"form-control",placeholder:"67891011",name:"phone2",value:m.phone2,onChange:o}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Enter phone 2."})]}),(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"state",children:"State"}),(0,b.jsx)("input",{type:"text",className:"form-control",placeholder:"New York",name:"state",value:m.state,onChange:o}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Enter state"})]}),(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"address",children:"Address"}),(0,b.jsx)("input",{type:"text",className:"form-control",placeholder:"House # 30, Street 32",name:"address",value:m.address,onChange:o}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Enter address"})]})]}),(0,b.jsx)("div",{className:"col-md-12 col-lg-12",children:(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"bio",children:"Short Biography"}),(0,b.jsx)("textarea",{className:"form-control",placeholder:"Short Bio",name:"bio",value:m.bio,onChange:o,rows:4}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Enter short biography"})]})}),(0,b.jsx)("div",{className:"col-md-12 col-lg-12",children:(0,b.jsxs)("div",{className:"form-group form-group-account",children:[(0,b.jsx)("label",{htmlFor:"image",children:"Image File"}),(0,b.jsx)("input",{type:"file",className:"form-control",name:"image",accept:"image/*"}),(0,b.jsx)("small",{className:"form-text text-muted",children:"Only jpg or png allowed"})]})})]}),(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-md-12 col-lg-12",children:(0,b.jsx)("div",{className:"form-group form-group-account",children:(0,b.jsxs)("button",{type:"submit",className:"btn btn-success",title:"Save",disabled:i,children:[(0,b.jsx)("i",{className:"fa fa-floppy-o"})," ",i?"Saving...":"Save"]})})})})]})})]})})})})]})})})})]})}}];

//# sourceMappingURL=test-generator-app_src_app_account_profile_page_tsx_38786425._.js.map