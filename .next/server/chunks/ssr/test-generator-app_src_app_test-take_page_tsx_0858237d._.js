module.exports=[94187,a=>{"use strict";a.s(["default",()=>g]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(71987);function g(){let a=(0,d.useSearchParams)(),g=a.get("userId")||"1234",h=a.get("documentId")||"demo123",[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)({}),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(!1),u=(0,c.useCallback)(async()=>{n(!0);try{console.log(`Fetching questions for userId: ${g}`);let a=`https://api.allorigins.win/raw?url=${encodeURIComponent(`http://72.60.41.227:5000/get_mcqs/${g}`)}`;console.log("🌐 Using CORS proxy for get_mcqs:",a);let b=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}});if(console.log(`API Response status: ${b.status}`),b.ok){let a=await b.json();if(console.log("API Response data:",a),Array.isArray(a)&&a.length>0){let b=a[0];console.log("First test data:",b),j({questions:b.questions||[]}),n(!1);return}j(a),n(!1);return}console.warn(`API returned ${b.status} - falling back to demo mode`)}catch(a){console.error("Failed to fetch questions:",a),console.log("🌐 API unavailable - running in Demo Mode with sample questions")}t(!0),j({questions:[{question:"I feel confident expressing my ideas in a group setting.",question_no:1,options:[{score:5,text:"Strongly Agree"},{score:4,text:"Agree"},{score:3,text:"Neutral"},{score:2,text:"Disagree"},{score:1,text:"Strongly Disagree"}]},{question:"I enjoy working with others to solve complex problems.",question_no:2,options:[{score:5,text:"Strongly Agree"},{score:4,text:"Agree"},{score:3,text:"Neutral"},{score:2,text:"Disagree"},{score:1,text:"Strongly Disagree"}]},{question:"I can easily adapt to new situations and challenges.",question_no:3,options:[{score:5,text:"Strongly Agree"},{score:4,text:"Agree"},{score:3,text:"Neutral"},{score:2,text:"Disagree"},{score:1,text:"Strongly Disagree"}]},{question:"I am comfortable taking initiative in team projects.",question_no:4,options:[{score:5,text:"Strongly Agree"},{score:4,text:"Agree"},{score:3,text:"Neutral"},{score:2,text:"Disagree"},{score:1,text:"Strongly Disagree"}]},{question:"I prefer to work independently rather than in groups.",question_no:5,options:[{score:1,text:"Strongly Agree"},{score:2,text:"Agree"},{score:3,text:"Neutral"},{score:4,text:"Disagree"},{score:5,text:"Strongly Disagree"}]}]}),n(!1)},[g]);(0,c.useEffect)(()=>{u()},[u]);let v=async()=>{p(!0),r(null);try{let a=`https://api.allorigins.win/raw?url=${encodeURIComponent("http://72.60.41.227:5000/submit_answers")}`;console.log("🌐 Using CORS proxy for submit_answers:",a);let b=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:g,answers:k})});if(b.ok){let a=await b.json();console.log("✅ Submit answers API response:",a),localStorage.setItem(`testResults_${g}`,JSON.stringify(a)),r({success:!0,message:a.message||"Answers submitted successfully!"}),setTimeout(()=>{window.location.href=`/test-results?userId=${g}`},2e3)}else throw Error(`API Error: ${b.status}`)}catch(a){console.error("Failed to submit answers:",a),localStorage.setItem(`testResults_${g}`,JSON.stringify({analysis:{Communication:"Strong",Leadership:"Moderate","Problem Solving":"Excellent",Teamwork:"Good"},max_score:100,percentage:85,total_score:85,trait_scores:{Communication:{score:22,max_score:25,percentage:88},Leadership:{score:18,max_score:25,percentage:72},"Problem Solving":{score:24,max_score:25,percentage:96},Teamwork:{score:21,max_score:25,percentage:84}},message:"Great job! You show strong communication and excellent problem-solving skills. (Demo Mode)"})),r({success:!0,message:"Answers submitted successfully! (Demo Mode)"}),setTimeout(()=>{window.location.href=`/test-results?userId=${g}`},2e3)}finally{p(!1)}};return m?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-200 border-t-blue-600 mx-auto"}),(0,b.jsxs)("div",{className:"mt-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Loading Test Questions"}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"Fetching your personalized questions from the API..."}),(0,b.jsxs)("div",{className:"text-sm text-gray-500 space-y-1",children:[(0,b.jsx)("p",{children:"• Connecting to assessment server"}),(0,b.jsx)("p",{children:"• Retrieving question bank"}),(0,b.jsx)("p",{children:"• Preparing your test"})]})]})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-8",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"bg-white shadow-2xl rounded-2xl p-8 border border-gray-100",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center mb-3",children:[(0,b.jsx)(f.default,{src:"/site-logo.png",alt:"Candidate Finder Logo",width:48,height:48,className:"h-12 w-auto mr-4"}),(0,b.jsxs)("div",{className:"flex flex-col mr-4",children:[(0,b.jsx)("span",{className:"text-sm text-blue-500 font-medium leading-none",children:"CANDIDATE FINDER"}),(0,b.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"📝 Take Test"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"User ID:"," ",(0,b.jsx)("span",{className:"font-semibold ml-1",children:g})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Document ID:"," ",(0,b.jsx)("span",{className:"font-semibold ml-1",children:h})]}),s&&(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),(0,b.jsx)("span",{className:"text-yellow-600 font-semibold",children:"Demo Mode"})]})]})]}),(0,b.jsx)(e.default,{href:"/test-generate",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:from-blue-600 hover:to-purple-600 transition-all duration-200 shadow-lg hover:shadow-xl",children:"← Back to Generate"})]})}),i&&i.questions&&(0,b.jsxs)("div",{className:"space-y-8",children:[i.questions.map((a,c)=>(0,b.jsxs)("div",{className:"bg-gradient-to-r from-white to-blue-50 border border-blue-200 rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center mb-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg mr-4",children:a.question_no||c+1}),(0,b.jsxs)("h3",{className:"text-xl font-semibold text-gray-800",children:["Question ",a.question_no||c+1]})]}),(0,b.jsx)("p",{className:"text-lg text-gray-700 leading-relaxed pl-14",children:a.question||"Please select your response:"})]}),(0,b.jsx)("div",{className:"space-y-3 pl-14",children:a.options.map((a,d)=>(0,b.jsxs)("label",{className:`flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 hover:scale-[1.02] ${k[c.toString()]===a.text?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:bg-blue-25"}`,children:[(0,b.jsx)("input",{type:"radio",name:`question-${c}`,value:a.text,checked:k[c.toString()]===a.text,onChange:a=>{var b;return b=a.target.value,void l(a=>({...a,[c.toString()]:b}))},className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,b.jsxs)("div",{className:"ml-4 flex-1",children:[(0,b.jsx)("span",{className:"text-gray-800 font-medium",children:a.text}),(0,b.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(Score: ",a.score,")"]})]}),k[c.toString()]===a.text&&(0,b.jsx)("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},d))})]},c)),(0,b.jsx)("div",{className:"mt-12 bg-gradient-to-r from-green-50 to-blue-50 rounded-2xl p-8 border border-green-200",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white font-bold text-lg",children:Object.keys(k).length})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("p",{className:"text-lg font-semibold text-gray-800",children:"Progress"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[Object.keys(k).length," of"," ",i.questions.length," questions answered"]})]})]}),(0,b.jsx)("div",{className:"w-32 bg-gray-200 rounded-full h-3",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${Object.keys(k).length/i.questions.length*100}%`}})})]}),(0,b.jsx)("button",{onClick:v,disabled:!(i&&i.questions&&i.questions.every((a,b)=>k[b.toString()]))||o,className:"px-8 py-4 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-xl hover:from-green-600 hover:to-blue-600 focus:outline-none focus:ring-4 focus:ring-green-300 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none",children:o?(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Submitting..."]}):(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Submit Answers"]})})]})})]}),q&&(0,b.jsx)("div",{className:"mt-8 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-8 shadow-lg",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center",children:(0,b.jsx)("svg",{className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})}),(0,b.jsxs)("div",{className:"ml-6",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"🎉 Answers Submitted Successfully!"}),(0,b.jsxs)("div",{className:"text-lg text-green-700",children:[(0,b.jsx)("p",{className:"font-medium",children:q.message}),(0,b.jsx)("p",{className:"text-sm text-green-600 mt-2",children:"Your responses have been recorded and will be processed shortly."})]})]})]})})]})})})}}];

//# sourceMappingURL=test-generator-app_src_app_test-take_page_tsx_0858237d._.js.map